var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,g,l){b!=Array.prototype&&b!=Object.prototype&&(b[g]=l.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,g,l,k){if(g){l=$jscomp.global;b=b.split(".");for(k=0;k<b.length-1;k++){var d=b[k];d in l||(l[d]={});l=l[d]}b=b[b.length-1];k=l[b];g=g(k);g!=k&&null!=g&&$jscomp.defineProperty(l,b,{configurable:!0,writable:!0,value:g})}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;
$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(b){var g=0;return $jscomp.iteratorPrototype(function(){return g<b.length?{done:!1,value:b[g++]}:{done:!0}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,g){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var l=0,k={next:function(){if(l<b.length){var d=l++;return{value:g(d,b[d]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};$jscomp.polyfill("Array.prototype.entries",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,l){return[b,l]})}},"es6-impl","es3");
$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var g=b[Symbol.iterator];return g?g.call(b):$jscomp.arrayIterator(b)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function g(){this.batch_=null}function l(f){return f instanceof d?f:new d(function(b,c){b(f)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;g.prototype.asyncExecute=function(f){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(f);return this};g.prototype.asyncExecuteBatch_=function(){var f=this;this.asyncExecuteFunction(function(){f.executeBatch_()})};var k=$jscomp.global.setTimeout;g.prototype.asyncExecuteFunction=function(f){k(f,
0)};g.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var f=this.batch_;this.batch_=[];for(var b=0;b<f.length;++b){var c=f[b];delete f[b];try{c()}catch(w){this.asyncThrow_(w)}}}this.batch_=null};g.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var d=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var f=this.createResolveAndReject_();try{b(f.resolve,f.reject)}catch(c){f.reject(c)}};d.prototype.createResolveAndReject_=
function(){function b(b){return function(f){c||(c=!0,b.call(A,f))}}var A=this,c=!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};d.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof d)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var f=null!=b;break a;case "function":f=!0;break a;default:f=!1}f?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};d.prototype.resolveToNonPromiseObj_=function(b){var f=
void 0;try{f=b.then}catch(c){this.reject_(c);return}"function"==typeof f?this.settleSameAsThenable_(f,b):this.fulfill_(b)};d.prototype.reject_=function(b){this.settle_(2,b)};d.prototype.fulfill_=function(b){this.settle_(1,b)};d.prototype.settle_=function(b,d){if(0!=this.state_)throw Error("Cannot settle("+b+", "+d|"): Promise already settled in state"+this.state_);this.state_=b;this.result_=d;this.executeOnSettledCallbacks_()};d.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=
this.onSettledCallbacks_,d=0;d<b.length;++d)b[d].call(),b[d]=null;this.onSettledCallbacks_=null}};var K=new g;d.prototype.settleSameAsPromise_=function(b){var f=this.createResolveAndReject_();b.callWhenSettled_(f.resolve,f.reject)};d.prototype.settleSameAsThenable_=function(b,d){var c=this.createResolveAndReject_();try{b.call(d,c.resolve,c.reject)}catch(w){c.reject(w)}};d.prototype.then=function(b,g){function c(b,c){return"function"==typeof b?function(c){try{f(b(c))}catch(x){n(x)}}:c}var f,n,m=new d(function(b,
c){f=b;n=c});this.callWhenSettled_(c(b,f),c(g,n));return m};d.prototype.catch=function(b){return this.then(void 0,b)};d.prototype.callWhenSettled_=function(b,d){function c(){switch(f.state_){case 1:b(f.result_);break;case 2:d(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?K.asyncExecute(c):this.onSettledCallbacks_.push(function(){K.asyncExecute(c)})};d.resolve=l;d.reject=function(b){return new d(function(d,c){c(b)})};d.race=function(b){return new d(function(d,
c){for(var f=$jscomp.makeIterator(b),g=f.next();!g.done;g=f.next())l(g.value).callWhenSettled_(d,c)})};d.all=function(b){var f=$jscomp.makeIterator(b),c=f.next();return c.done?l([]):new d(function(b,d){function g(c){return function(d){k[c]=d;n--;0==n&&b(k)}}var k=[],n=0;do k.push(void 0),n++,l(c.value).callWhenSettled_(g(k.length-1),d),c=f.next();while(!c.done)})};return d},"es6-impl","es3");
(function(){function b(a){var e=a.status;if(200>e||299<e)throw e;return a.text()}function g(a){var e=a.charAt(0),b=a.length,b="\n"===a.charAt(b-1)?b-2:b;if("+"===e){a=JSON.parse(a.substring(1,b));if(a[0])throw a;return 2===a.length?a[1]:a}if("-"!==e)throw Error("Malformed response.");if("["!==a.charAt(1))throw Error(a.substring(1,b));throw JSON.parse(a.substring(1,b));}function l(a){a=O.getItem(a);return null==a?null:JSON.parse(a)}function k(a,b){try{return O.setItem(a,JSON.stringify(b)),!0}catch(h){return!1}}
function d(a){return Y.hex(a)}function K(a){return Array.isArray(a)?a[1]["1"]:String(a)}function f(){}function A(a){for(var b=arguments,h,c,B=1,d=arguments.length;B<d;B++)for(h in c=b[B],c)a[h]=c[h];return a}function c(a,b){b.appendChild(a)}function w(a){a.parentNode.removeChild(a)}function n(a){return document.createElement(a)}function m(a){return document.createTextNode(a)}function T(a,b,h,c){for(var e in b)if(e in h){var d=h[e],f=c[e];if(d!==f||d&&"object"===typeof d||"function"===typeof d){var H=
b[e];if(H)for(var g=0;g<H.length;g+=1){var k=H[g];k.__calling||(k.__calling=!0,k.call(a,d,f),k.__calling=!1)}}}}function X(a,b){function e(a){b.set({errmsg:""})}function d(a){b.pop("/login-google")}function B(a){b.pop("/login-github")}function f(a){b.pop("/login-gitlab")}function g(a){b.pop("/login-bitbucket")}function k(a){b.logout()}var l,P,Q,R,p,C=n("div");C.className=l=a.errmsg?"msg error":"hide";var v=n("b");C.appendChild(v);v.addEventListener("click",e,!1);c(m("x"),v);c(m("\n  "),C);var q=n("span");
C.appendChild(q);var x=m(P=a.errmsg);q.appendChild(x);var r=m("\n"),t=n("div");t.className=Q=a.authenticated?"hide":"";q=n("span");t.appendChild(q);c(m("Login with"),q);c(m("\u00a0\u00a0\n  "),t);var D=n("button");t.appendChild(D);D.className="outlined";D.addEventListener("click",d,!1);c(m("google"),D);c(m("  \n  "),t);var E=n("button");t.appendChild(E);E.className="outlined";E.addEventListener("click",B,!1);c(m("github"),E);c(m("\n  "),t);var F=n("button");t.appendChild(F);F.className="outlined";
F.addEventListener("click",f,!1);c(m("gitlab"),F);c(m("\n  "),t);var G=n("button");t.appendChild(G);G.className="outlined";G.addEventListener("click",g,!1);c(m("bitbucket"),G);var y=m("\n"),z=n("div");z.className=R=a.authenticated?"":"hide";q=n("span");z.appendChild(q);q.className="name";var V=m(p=a.user_nick);q.appendChild(V);c(m("\u00a0\u00a0\n  "),z);var L=n("button");z.appendChild(L);L.className="outlined";L.addEventListener("click",k,!1);c(m("Logout"),L);c(m("\n  "),z);q=n("div");z.appendChild(q);
q.className="header";c(m("Users"),q);c(m("\n  "),z);for(var q=a.users,u=[],I=0;I<q.length;I+=1)u[I]=U(a,q,q[I],I,b),u[I].mount(z,null);return{mount:function(a,b){a.insertBefore(C,b);a.insertBefore(r,b);a.insertBefore(t,b);a.insertBefore(y,b);a.insertBefore(z,b)},update:function(a,y){l!==(l=y.errmsg?"msg error":"hide")&&(C.className=l);P!==(P=y.errmsg)&&(x.data=P);Q!==(Q=y.authenticated?"hide":"")&&(t.className=Q);R!==(R=y.authenticated?"":"hide")&&(z.className=R);p!==(p=y.user_nick)&&(V.data=p);var e=
y.users;if("users"in a){for(var h=0;h<e.length;h+=1)u[h]?u[h].update(a,y,e,e[h],h):(u[h]=U(y,e,e[h],h,b),u[h].mount(z,null));for(;h<u.length;h+=1)u[h].unmount(),u[h].destroy();u.length=e.length}},unmount:function(){w(C);w(r);w(t);w(y);w(z);for(var a=0;a<u.length;a+=1)u[a].unmount()},destroy:function(){v.removeEventListener("click",e,!1);D.removeEventListener("click",d,!1);E.removeEventListener("click",B,!1);F.removeEventListener("click",f,!1);G.removeEventListener("click",g,!1);L.removeEventListener("click",
k,!1);for(var a=0;a<u.length;a+=1)u[a]&&u[a].destroy(!1)}}}function U(a,b,h,d,c){var e,B,g=n("div");g.className="name item";g.style.cssText=e="color:"+J.helpers.toHexColor(h["3"]);var H=m(B=h["3"]);g.appendChild(H);return{mount:function(a,b){a.insertBefore(g,b)},update:function(a,b,h,d,c){e!==(e="color:"+J.helpers.toHexColor(d["3"]))&&(g.style.cssText=e);B!==(B=d["3"])&&(H.data=B)},unmount:function(){w(g)},destroy:f}}function x(a){a=a||{};this._state=A(J.data(),a.data);this._observers={pre:Object.create(null),
post:Object.create(null)};this._handlers=Object.create(null);this._root=a._root||this;this._yield=a._yield;this._torndown=!1;this._fragment=X(this._state,this);a.target&&this._fragment.mount(a.target,null);a._root?a._root._renderHooks.push(J.oncreate.bind(this)):J.oncreate.call(this)}(function(a){function b(a){"string"!==typeof a&&(a=String(a));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function h(a){"string"!==typeof a&&
(a=String(a));return a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};r.iterable&&(b[Symbol.iterator]=function(){return b});return b}function c(a){this.map={};a instanceof c?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function g(a){return new Promise(function(b,e){a.onload=function(){b(a.result)};
a.onerror=function(){e(a.error)}})}function k(a){var b=new FileReader,e=g(b);b.readAsArrayBuffer(a);return e}function l(a){a=new Uint8Array(a);for(var b=Array(a.length),e=0;e<a.length;e++)b[e]=String.fromCharCode(a[e]);return b.join("")}function m(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);b.set(new Uint8Array(a));return b.buffer}function n(){this.bodyUsed=!1;this._initBody=function(a){if(this._bodyInit=a)if("string"===typeof a)this._bodyText=a;else if(r.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=
a;else if(r.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(r.arrayBuffer&&r.blob&&D(a))this._bodyArrayBuffer=m(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else if(r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||E(a)))this._bodyArrayBuffer=m(a);else throw Error("unsupported BodyInit type");else this._bodyText="";this.headers.get("content-type")||("string"===
typeof a?this.headers.set("content-type","text/plain;charset\x3dUTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset\x3dUTF-8"))};r.blob&&(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));
if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(k)});this.text=function(){var a=f(this);if(a)return a;if(this._bodyBlob){var a=this._bodyBlob,b=new FileReader,e=g(b);b.readAsText(a);return e}if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");
return Promise.resolve(this._bodyText)};r.formData&&(this.formData=function(){return this.text().then(w)});this.json=function(){return this.text().then(JSON.parse)};return this}function p(a,b){b=b||{};var e=b.body;if("string"===typeof a)this.url=a;else{if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url;this.credentials=a.credentials;b.headers||(this.headers=new c(a.headers));this.method=a.method;this.mode=a.mode;e||null==a._bodyInit||(e=a._bodyInit,a.bodyUsed=!0)}this.credentials=b.credentials||
this.credentials||"omit";if(b.headers||!this.headers)this.headers=new c(b.headers);a=b.method||this.method||"GET";var h=a.toUpperCase();this.method=-1<F.indexOf(h)?h:a;this.mode=b.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&e)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(e)}function w(a){var b=new FormData;a.trim().split("\x26").forEach(function(a){if(a){var e=a.split("\x3d");a=e.shift().replace(/\+/g," ");e=e.join("\x3d").replace(/\+/g,
" ");b.append(decodeURIComponent(a),decodeURIComponent(e))}});return b}function x(a){var b=new c;a.split("\r\n").forEach(function(a){var e=a.split(":");if(a=e.shift().trim())e=e.join(":").trim(),b.append(a,e)});return b}function v(a,b){b||(b={});this.type="default";this.status="status"in b?b.status:200;this.ok=200<=this.status&&300>this.status;this.statusText="statusText"in b?b.statusText:"OK";this.headers=new c(b.headers);this.url=b.url||"";this._initBody(a)}if(!a.fetch){var q="Symbol"in a&&"iterator"in
Symbol,A;if(A="FileReader"in a&&"Blob"in a)try{new Blob,A=!0}catch(y){A=!1}var r={searchParams:"URLSearchParams"in a,iterable:q,blob:A,formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(r.arrayBuffer){var t="[object Int8Array];[object Uint8Array];[object Uint8ClampedArray];[object Int16Array];[object Uint16Array];[object Int32Array];[object Uint32Array];[object Float32Array];[object Float64Array]".split(";");var D=function(a){return a&&DataView.prototype.isPrototypeOf(a)};var E=ArrayBuffer.isView||
function(a){return a&&-1<t.indexOf(Object.prototype.toString.call(a))}}c.prototype.append=function(a,e){a=b(a);e=h(e);var c=this.map[a];c||(c=[],this.map[a]=c);c.push(e)};c.prototype["delete"]=function(a){delete this.map[b(a)]};c.prototype.get=function(a){return(a=this.map[b(a)])?a[0]:null};c.prototype.getAll=function(a){return this.map[b(a)]||[]};c.prototype.has=function(a){return this.map.hasOwnProperty(b(a))};c.prototype.set=function(a,e){this.map[b(a)]=[h(e)]};c.prototype.forEach=function(a,b){Object.getOwnPropertyNames(this.map).forEach(function(e){this.map[e].forEach(function(h){a.call(b,
h,e,this)},this)},this)};c.prototype.keys=function(){var a=[];this.forEach(function(b,e){a.push(e)});return d(a)};c.prototype.values=function(){var a=[];this.forEach(function(b){a.push(b)});return d(a)};c.prototype.entries=function(){var a=[];this.forEach(function(b,e){a.push([e,b])});return d(a)};r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var F="DELETE GET HEAD OPTIONS POST PUT".split(" ");p.prototype.clone=function(){return new p(this,{body:this._bodyInit})};n.call(p.prototype);
n.call(v.prototype);v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})};v.error=function(){var a=new v(null,{status:0,statusText:""});a.type="error";return a};var G=[301,302,303,307,308];v.redirect=function(a,b){if(-1===G.indexOf(b))throw new RangeError("Invalid status code");return new v(null,{status:b,headers:{location:a}})};a.Headers=c;a.Request=p;a.Response=v;a.fetch=function(a,b){return new Promise(function(e,
h){var c=new p(a,b),d=new XMLHttpRequest;d.onload=function(){var a={status:d.status,statusText:d.statusText,headers:x(d.getAllResponseHeaders()||"")};a.url="responseURL"in d?d.responseURL:a.headers.get("X-Request-URL");e(new v("response"in d?d.response:d.responseText,a))};d.onerror=function(){h(new TypeError("Network request failed"))};d.ontimeout=function(){h(new TypeError("Network request failed"))};d.open(c.method,c.url,!0);"include"===c.credentials&&(d.withCredentials=!0);"responseType"in d&&
r.blob&&(d.responseType="blob");c.headers.forEach(function(a,b){d.setRequestHeader(b,a)});d.send("undefined"===typeof c._bodyInit?null:c._bodyInit)})};a.fetch.polyfill=!0}})("undefined"!==typeof self?self:void 0);var W=function(){function a(a,b,c,d){this.url=a;this.opts=b;this.ih=c;this.ah=d;this.handlers=[];this.authOk=this.cbFail=null}a.prototype.then=function(a,b){this.cbFail?console.warn("Cannot add a resolve/reject handler once a reject handler is provided."):a?this.handlers.push(a):(this.handlers.push(b),
this.run());return this};a.prototype.catch=function(a){this.cbFail?console.warn("Only one reject handler is allowed."):(this.handlers.push(a),this.run());return this};a.prototype.run=function(a){var b=this.url;a&&(b=b.substring(0,b.lastIndexOf("\x3d")+1)+a);a=fetch(b,this.opts).then(this.ih).then(g);for(var b=this.handlers,e=b.length-1,c=0;c<e;)a.then(b[c++]);a.then(void 0,this.cbFail||(this.cbFail=this.fail.bind(this)))};a.prototype.fail=function(a){if(this.ah&&(401===a||Array.isArray(a)&&3===a[0]))this.ah(this.authOk||
(this.authOk=this.run.bind(this)));else this.handlers[this.handlers.length-1](a)};return a}(),p={auth$$:void 0,get$$:function(a,e,c,d){var h=M.auth$$;S&&(a=S+a);return c||h?new W(a,e,d||b,h):fetch(a,e).then(d||b).then(g)},post$$:function(a,e,c,d){var h=M.auth$$;e={method:"POST",body:e};S&&(a=S+a);return c||h?new W(a,e,d||b,h):fetch(a,e).then(d||b).then(g)}};window.rpc_config_d=p;var M=window.rpc_config||p,S=window.rpc_host||"",N={},p=Object.freeze({getItem:function(a){return N[a]},setItem:function(a,
b){N[a]=b;return!0},removeItem:function(a){return a in N&&delete N[a]},clear:function(){N={};return!0}}),O=window.localStorage||p,Z=function(a){var b=0;a+="x";for(var c=0;c<a.length;c++)2147483647<b&&(b=parseInt(b/137)),b=131*b+a.charCodeAt(c);return b},aa=function(a){var b="#";a.forEach(function(a){16>a&&(b+=0);b+=a.toString(16)});return b},ba=function(a,b,c){a/=360;var e=.5>c?c*(1+b):c+b-c*b,d=2*c-e;return[a+1/3,a,a-1/3].map(function(a){0>a&&a++;1<a&&a--;a=a<1/6?d+6*(e-d)*a:.5>a?e:a<2/3?d+6*(e-
d)*(2/3-a):d;return Math.round(255*a)})},p=function(a){a=a||{};var b=[a.lightness,a.saturation].map(function(a){a=a||[.35,.5,.65];return"[object Array]"===Object.prototype.toString.call(a)?a.concat():[a]});this.L=b[0];this.S=b[1];this.hash=a.hash||Z};p.prototype.hsl=function(a){var b=this.hash(a);a=b%359;b=parseInt(b/360);var c=this.S[b%this.S.length];b=parseInt(b/this.S.length);return[a,c,this.L[b%this.L.length]]};p.prototype.rgb=function(a){a=this.hsl(a);return ba.apply(this,a)};p.prototype.hex=
function(a){a=this.rgb(a);return aa(a)};var Y=new p,J=function(){var a;window.handleOauth=function(b,c){if(!a.get("loading")){var e=a.m;b?c&&c.es_token?(e.session.auth_data=c,M.get$$("/auth/user/login?es_token\x3d"+c.es_token,void 0).then(e.login$$S).then(void 0,e.login$$F)):e.login$$F("Failed to login to provider."):e.login$$F(c)}};return{data:function(){return{loading:!1,errmsg:"",authenticated:!1,user_nick:"",users:[]}},helpers:{toHexColor:d},oncreate:function(){a=this;var b=l("token"),c=l("session")||
{auth_data:null,user:null};Object.defineProperty(this,"m",{enumerable:!1,value:{login$$S:this.login$$S.bind(this),login$$F:this.login$$F.bind(this),fetch$$S:this.fetch$$S.bind(this),fetch$$F:this.fetch$$F.bind(this),token:b,session:c}});b&&(this.set({authenticated:!0,loading:!0,user_nick:c.user["3"]}),c=this.m,M.post$$("/auth/user/User/list?access_token\x3d"+b,'{"1":true}').then(c.fetch$$S).then(void 0,c.fetch$$F))},methods:{pop:function(a){this.get("loading")||(this.set({errmsg:""}),window.open(a,
"Login","width\x3d450,height\x3d500,location\x3d1,status\x3d1,resizable\x3dyes").moveTo(window.innerWidth/2-225,window.innerHeight/2-250))},login$$S:function(a){var b=this.m,c=b.session,e=a["1"];a=a["2"];b.token=e;c.user=a;k("token",e);k("session",c);this.set({authenticated:!0,user_nick:a["3"]});M.post$$("/auth/user/User/list?access_token\x3d"+e,'{"1":true}').then(b.fetch$$S).then(void 0,b.fetch$$F)},login$$F:function(a){this.set({loading:!1,errmsg:K(a)})},logout:function(){O.removeItem("token");
O.removeItem("session");this.set({authenticated:!1,users:[]})},fetch$$S:function(a){this.set({loading:!1,errmsg:"",users:a["1"]})},fetch$$F:function(a){this.set({loading:!1,errmsg:K(a),users:[]})}}}}();A(x.prototype,J.methods,{get:function(a){return a?this._state[a]:this._state},fire:function(a,b){if(a=a in this._handlers&&this._handlers[a].slice())for(var c=0;c<a.length;c+=1)a[c].call(this,b)},observe:function(a,b,c){var d=c&&c.defer?this._observers.post:this._observers.pre;(d[a]||(d[a]=[])).push(b);
c&&!1===c.init||(b.__calling=!0,b.call(this,this._state[a]),b.__calling=!1);return{cancel:function(){var c=d[a].indexOf(b);~c&&d[a].splice(c,1)}}},on:function(a,b){if("teardown"===a)return this.on("destroy",b);var c=this._handlers[a]||(this._handlers[a]=[]);c.push(b);return{cancel:function(){var a=c.indexOf(b);~a&&c.splice(a,1)}}},set:function(a){this._set(A({},a));this._root._flush()},_flush:function(){if(this._renderHooks)for(;this._renderHooks.length;)this._renderHooks.pop()()}});x.prototype._set=
function(a){var b=this._state;this._state=A({},b,a);T(this,this._observers.pre,a,b);this._fragment.update(a,this._state);T(this,this._observers.post,a,b)};x.prototype.teardown=x.prototype.destroy=function(a){this.fire("destroy");!1!==a&&this._fragment.unmount();this._fragment.destroy();this._fragment=null;this._state={};this._torndown=!0};window.home=new x({target:document.getElementById("auth")})})();
//# sourceMappingURL=build.js.map
